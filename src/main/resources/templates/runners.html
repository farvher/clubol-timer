<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="head :: header">
<title>Getting Started: Serving Web Content</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>

	<div th:replace="header :: cabezote"></div>


	<div class="container">

		<div class="row">
			<div class="col-md-8">
				<form class="form-inline">
					<input type="text" id="searchRunner" name="searchRunner"
						class="form-control"
						placeholder="Buscar por Nombre, Apellido o Documento "
						maxlength="40" th:required="required" /> <input type="button"
						class="btn btn-default" value="Buscar" onclick="search()" /> <a
						class="btn btn-default" href="/runners">Todos</a>
						 <a class="btn btn-default" href="/runner/new">Nuevo</a>
						 
						<a class="btn btn-default" href="/runner/duplicates">Duplicados</a>
						<a class = "btn btn-default" onclick ="tableToExcel('tableRunners','corredores','corredores.xls')" href="#">Excel</a>
				</form>
			</div>
		</div>

		<br />

		<table id="tableRunners" class="table table-bordered table-responsive">

			<thead>
				<tr>
					<th>#</th>
					<th>Chip id</th>
					<th>Documento</th>
					<th>Nombres</th>
					<!-- 					<th>Apellidos</th> -->
					<th>Edad</th>
					<!-- 					<th>Email</th> -->
					<th>Telefono</th>

					<!-- 		datos de categoria -->
					<th>Distancia</th>
					<th>Categoria</th>
					<th>Genero</th>

					<th>Activo</th>
					<th>Editar</th>
					<th>Borrar</th>
					<th>Correo</th>
				</tr>
			</thead>
			<tbody>
				<tr th:id="|runner-${r.id}|" th:each="r,i : ${runners}"
					th:class="${r.active}? 'success':'warning'">
					<td th:text="${i.count}"></td>
					<td th:text="${r.position}">Chip id</td>
					<td th:text="${r.document}">Documento</td>
					<td th:text="${r.firstName}">Nombres</td>
					<!-- 					<td th:text="${r.lastName}">Apellidos</td> -->
					<td th:text="${r.age}">Edad</td>
					<!-- 					<td>Email</td> -->
					<td th:text="${r.cellPhone}">Telefono</td>

					<!-- 		datos de categoria -->
					<td th:text="${r.distance}">Distancia</td>
					<td th:text="${r.category}">Categoria</td>
					<td th:text="${r.gender}">Genero</td>

					<td><a th:href="@{/runner/enableDisable/}+ ${r.id}"
						th:text="${r.active}? 'Activo':'Inactivo'"
						class="btn btn-default btn-xs"></a></td>
					<td><a th:href="@{/runner/update/}+${r.id}"
						class="btn btn-warning btn-xs">Editar</a></td>
					<td><a th:href="@{/runner/delete/}+${r.id}"
						onclick="return validDelete(this)" class="btn btn-danger btn-xs">Borrar</a></td>
						<td>
						<a th:href="@{/massive/}+${r.position}" class="btn btn-default btn-xs" target="blank">Correo</a>
						</td>
				</tr>
			</tbody>

		</table>

	</div>
	<script>
		function search() {
			var key = $("#searchRunner").val();
			if (key != "") {
				window.location.href = "/runners/" + key;
			}

		}
		
		function validDelete(btn){
		var c = confirm("Borrar corredor?");
		if (c){
			return true;
		}
		return false;
			
		}
	</script>




</body>
</html>